<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>impress.js | presentation tool based on the power of CSS3 transforms and transitions in modern browsers | by
        Bartek Szopka @bartaz</title>

    <meta name="mirorix 2024" content="mirorix 2024" />
    <meta name="author" content="Sadiq Rahmati" />

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link
        href="//fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic"
        rel="stylesheet" />
    <link href="css/impress-demo.css" rel="stylesheet" />
    <link href="css/impress-common.css" rel="stylesheet" />
    <link href="css/custom.css" rel="stylesheet" />

    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>

<body class="impress-not-supported">

    <div class="fallback-message">
        <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a
            simplified version of this presentation.</p>
        <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
    </div>

    <div id="impress" data-transition-duration="1000" data-width="1920" data-height="1080" data-max-scale="3"
        data-min-scale="0" data-perspective="1000" data-autoplay="0">

        <div id="title" class="step" data-x="0" data-y="0" data-z="30000" data-scale="4" data-autoplay="0">
            <span class="try">2024</span>
            <h1>Mirorix</h1>
            <div id="player"></div>
        </div>

        <div id="april-2023" class="step" data-x="0" data-y="0" data-z="15000" data-scale="4" data-autoplay="0">
            <p style="position: absolute;">April 2023: Challenges & limitations</p>
        </div>

        <div id="homepage" class="step" data-x="0" data-y="0" data-z="10000">
            <img src="img/mainpage_2023_unauthenticated.png" alt="mirorix home page" height="900"
                style="border: 5px solid gray;width: 200%; margin-left: -400px;" />
        </div>


        <div id="category" class="step helper-border" data-rel-x="0" data-rel-y="-430" data-scale="0.50">
            <div class="substep" style="    border: 2px solid red;
        width: 157%;
        height: 100%;
        border-radius: 20px;
        position: absolute;
        top: 194px;
        left: -244px;"></div>
            <ul style="position: absolute;
        top: -400px;
        width: 199%;
        left: -300px;
        list-style-type: disc;">
                <li class="substep">Solely covered sports news at the time -> Limited content diversity
                </li>
                <li class="substep">Language-specific categorization -> Hindered platform performance and scalability
                </li>
                <li class="substep">New language implementation necessitated a complete pipeline overhaul, impeding
                    content expansion efforts.</li>
            </ul>
        </div>

        <div id="pre-registration" class="step" data-rel-x="-650" data-rel-y="0" data-scale="0.6">
            <div class="substep" style="border: 2px solid red;
                width: 33%;
                height: 106%;
                border-radius: 20px;
                position: absolute;
                top: 3px;
                left: 285px;"></div>
        </div>

        <div id="registration" class="step" data-rel-x="-500" data-rel-y="1000" data-rel-z="-1500" data-rotate-x="90"
            data-scale="0.6">
            <img src="img/registration_page_2023.jpeg" alt="Evergreen CI result page" height="900"
                style="border: 5px solid gray;margin-left: -400px;" />
            <ul style="position: absolute;
            width: 100%;
            top: 150px;
            left: 500px;
            list-style-type: disc;">
                <li class="substep">Limited to OTP verification only -> Restricted user choice and accessibility
                </li>
                <li class="substep">Insufficient user information gathered -> Stifled delivery of personalized
                    experiences</li>
                <li class="substep">No email registration option provided -> Restricted authentication methods and
                    service personalization
                </li>
            </ul>
        </div>

        <div id="language" class="step" data-rel-to="pre-registration" data-rel-x="0" data-rel-y="0" data-scale="0.6">
            <div class="substep" style="border: 2px solid red;
            width: 6%;
            height: 68%;
            border-radius: 20px;
            position: absolute;
            top: 18px;
            left: 593px;"></div>

            <ul style="position: absolute;
            width: 100%;
            top: -410px;
            left: -557px;
            list-style-type: disc;">
                <li class="substep">Heavy dependence on language-specific architecture -> decelerated development and
                    maintenance
                </li>
                <li class="substep">Feature replication across languages required -> Increased development complexities
                </li>
            </ul>
        </div>

        <div id="timeline" class="step" data-rel-to="homepage" data-rel-x="500" data-rel-y="300" data-scale="1">
            <div class="substep" style="    border: 2px solid red;
            width: 99%;
            height: 818%;
            border-radius: 20px;
            position: absolute;
            top: -460px;
            left: -441px;"></div>

            <ul style="position: absolute;
            width: 100%;
            top: -308px;
            left: 609px;
            list-style-type: disc;">
                <li class="substep">Low-quality parser and content -> Unengaging news feeds
                </li>
                <li class="substep">Limited user access to news details -> Diminished user engagement
                </li>
                <li class="substep">Absence of feedback mechanisms -> Neglected user preferences
                </li>
                <li class="substep">Image delivery speed and quality issues -> Suboptimal user experience
                </li>
                <li class="substep">Design flaws in news cards -> Compromised visual appeal
                </li>
                <li class="substep">Slow scrolling performance -> Detracted from user satisfaction
                </li>

            </ul>
        </div>

        <div id="details" class="step" data-x="0" data-y="3000" data-rel-z="0" data-scale="1">


            <p style="width: 120%; margin-bottom: 20px;">Our use of iframes or redirects on the news details page
                compromised our
                <strong>SEO</strong> efforts and resulted in missed opportunities for <strong>user engagement</strong>
                and <strong>retention.</strong>
            </p>
            <img src="img/mainpage_2023_details_page.png" alt="mirorix home page" style="border: 5px solid gray;
                width: 100%;
                height: 100%;
                " />
        </div>

        <!-- <div id="details" class="step" data-rel-to="homepage" data-rel-x="500" data-rel-y="0" data-rel-z="-1000" data-rotate-y="90"
            data-scale="0.6">
            dsafjkl
            style="border: 5px solid gray;width: 200%; margin-left: -400px;"/>
        </div> -->

        <div id="analytics" class="step" data-rel-x="2000" data-rel-y="0" data-scale="1">
            <img src="img/empty_box.png" style="position: absolute;
            width: 50%;
            top: -400px;
            left: -300px;">
            <ul style="position: absolute;
            width: 100%;
            list-style-type: disc;
            left: 300px;
            top: -50px;">
                <li class="substep">Absence of robust analytics frameworks -> Prevented insights derivation
                </li>
                <li class="substep">Limited progress evaluation capabilities -> Impeded success measurement efforts
                </li>
            </ul>
        </div>

        <div id="team-composition" class="step" data-rel-x="2000" data-rel-y="0" data-scale="1">
            <h1>Team Composition</h1>
            <div class="team-members">
                <div class="team-member left">
                    <div class="member-details">
                        <h2>Sadiq Rahmati</h2>
                        <p>Software Engineer</p>
                    </div>
                    <img src="img/sadiq_rahmati.jpeg" alt="Team Member 1">
                </div>
                <div class="team-member right">
                    <img src="img/hossein_khalilian.jpeg" alt="Team Member 1">
                    <div class="member-details">
                        <h2>Hossein Khaliliian</h2>
                        <p>AI Engineer</p>
                    </div>
                </div>
                <div class="team-member left">
                    <div class="member-details">
                        <h2>Pouria Meftahi</h2>
                        <p>Frontend Developer</p>
                    </div> <img src="img/pouria_meftahi.jpg" alt="Team Member 2">
                </div>
                <div class="team-member right">
                    <img src="img/alireza_nemati.jpeg" alt="Team Member 2">
                    <div class="member-details">
                        <h2>Alireza Nemati</h2>
                        <p>Software Developer</p>
                    </div>
                </div>
            </div>

        </div>
        <div id="2023-objectives" class="step" data-rel-x="2000" data-rel-y="0" data-scale="1">
            <h1 style="margin-bottom: 50px;"><strong>In april of 2023 we had 2 objectives:</strong></h1>
            <ul style="margin-left: -204px;
            width: 150%;
            list-style-type: disc;">
                <li class="substep">Deriving actionable insights from our services and integrating them into our
                    decision-making processes. This involved leveraging data analytics to gain deeper understanding and
                    drive strategic decisions across our platform.</li>
                <li class="substep">Addressing obvious performance, scalability, and adaptability flaws within our
                    infrastructure. Our aim was to enhance the overall efficiency and resilience of our platform,
                    ensuring it could meet the evolving needs of our users and scale effectively.</li>
            </ul>
        </div>

        <div id="april-2024" class="step" data-x="10000" data-y="0" data-z="15000" data-scale="4" data-autoplay="0">
            <p style="position: absolute;">Progress in March 2024</p>
        </div>

        <div id="homepage-new" class="step" data-x="10000" data-y="0" data-z="10000">
            <img src="img/mainpage_2024_unauthenticated.jpeg" alt="mirorix home page" height="900"
                style="border: 5px solid gray;width: 200%; margin-left: -400px;" />
        </div>


        <div id="category-new" class="step helper-border" data-rel-x="0" data-rel-y="-430" data-scale="0.50">
            <div class="substep" style="    border: 2px solid red;
            width: 157%;
            height: 100%;
            border-radius: 20px;
            position: absolute;
            top: 74px;
            left: 43px;"></div>
            <ul style="position: absolute;
        top: -400px;
        width: 199%;
        left: -300px;
        list-style-type: disc;">
                <li class="substep">We established a hierarchical category system, beginning with nine general
                    categories. </li>
                <li class="substep">We've transitioned to using a zero-shot classifier model, eliminating language
                    dependency and enhancing platform performance and scalability. </li>
                <li class="substep">We've extended our approach to topic detection, leveraging the same
                    language-agnostic strategy, further enhancing platform scalability and content diversity.</li>
            </ul>
        </div>

        <div id="pre-registration-new" class="step" data-rel-x="650" data-rel-y="0" data-scale="0.6">
            <div class="substep" style="border: 2px solid red;
            width: 16%;
            height: 61%;
            border-radius: 20px;
            position: absolute;
            top: 15px;
            left: 581px;"></div>
        </div>

        <div id="registration-new" class="step" data-rel-x="500" data-rel-y="1000" data-rel-z="-1500" data-rotate-x="90"
            data-scale="0.6">
            <img src="img/registration_page_2024.png" alt="Evergreen CI result page" height="900"
                style="border: 5px solid gray;margin-left: -400px;" />
            <ul style="position: absolute;
            width: 100%;
            top: 150px;
            left: 500px;
            list-style-type: disc;">
                <li class="substep">We've expanded authentication options to include phone or email verification through
                    password, OTP, or OpenID.
                </li>
                <li class="substep">We now gather all necessary user information during the registration process.
                </li>
            </ul>
        </div>

        <div id="language-new" class="step" data-rel-to="pre-registration-new" data-rel-x="0" data-rel-y="800"
            data-scale="0.6">
            <div class="substep" style="    border: 2px solid red;
            width: 10%;
            height: 69%;
            border-radius: 20px;
            position: absolute;
            top: -30px;
            left: 525px;"></div>

            <ul style="position: absolute;
            width: 100%;
            top: -459px;
            left: 592px;
            list-style-type: disc;">
                <li class="substep">Our backend infrastructure has been revamped to be language-agnostic, enabling
                    seamless addition of new languages to the site without pipeline overhauls.
                </li>
                <li class="substep">Feature replication across languages is no longer necessary, reducing development
                    complexities.
                </li>
            </ul>
        </div>

        <div id="timeline-new" class="step small-text" data-rel-to="homepage-new" data-rel-x="-300" data-rel-y="350"
            data-rel-z="500" data-scale="1">
            <div class="substep" style="    border: 2px solid red;
            width: 72%;
            height: 742%;
            border-radius: 20px;
            position: absolute;
            top: -486px;
            left: 384px;"></div>

            <ul style="position: absolute;
            width: 100%;
            top: -308px;
            left: -518px;
            list-style-type: disc;">
                <li class="substep">We've enhanced Palantiri with a higher-quality parser, resulting in more engaging
                    news feeds.
                </li>
                <li class="substep">We've introduced Intellisent, an extractive summarizer service, to expand users'
                    access to news details directly within the timeline, enhancing user engagement.</li>
                <li class="substep">Poplar, our feedback service, has been integrated, allowing users to express
                    preferences and shape their news experience.
                </li>
                <li class="substep">Rigel's image delivery speed and quality have been optimized, leading to a more
                    satisfactory user experience.</li>
                <li class="substep">Design flaws in news cards have been rectified, improving visual appeal and
                    usability.</li>
                <li class="substep">We've implemented a completely new timeline service that utilizes recommendation
                    data from all services, creating a unique timeline for our users and onboarding those unfamiliar
                    with our site.
                </li>

            </ul>
        </div>

        <div id="details-new" class="step small-text" data-x="10000" data-y="3000" data-rel-z="0" data-scale="1">
            <p>We addressed SEO and user engagement issues on our news detail page by <strong>Removing iframes and
                    redirects:</strong> Ensuring a clean HTML structure for better SEO. We also worked on content
                enrichment in this page by:</p>
            <ul style="list-style-type: disc;">
                <li>Long summaries of news articles.</li>
                <li>Related news section for user engagement.</li>
            </ul>
            <p>Additionally, we implemented <strong>internal linking</strong> to connect related articles and
                categories, enhancing navigation. Moreover, we optimized <strong>metadata</strong> such as title tags
                and meta descriptions to improve search engine visibility.</p>
            <img src="img/mainpage_2024_details_page.png" alt="mirorix home page" style="border: 5px solid gray;
                width: 100%;
                height: 100%;
                " />
        </div>

        <div id="analytics-new" class="step" data-rel-x="2000" data-rel-y="0" data-scale="1">
            <div class="figures-container">
                <div class="figure">
                    <img src="img/fig1.jpeg" alt="Figure 1">
                </div>
                <div class="figure">
                    <img src="img/fig2.jpeg" alt="Figure 2">
                </div>
                <div class="figure">
                    <img src="img/fig3.jpeg" alt="Figure 3">
                </div>
                <div class="figure">
                    <img src="img/fig4.jpeg" alt="Figure 4">
                </div>
            </div>
            <ul style="position: absolute;
            margin-left: 40%;
            width: 100%;
            top: -542%;
            list-style-type: disc;">
                <li class="substep">We've developed Hume, a new analytics service, providing comprehensive insights into
                    user engagement, session duration, and content preferences.</li>
                <li class="substep">It provides data analytics from the initial data ingestion phase to the final user
                    interaction, enabling us to track and analyze data flow and user behavior comprehensively.</li>
                <li class="substep">Leveraging advanced analytics techniques, Hume ensures optimized data processing and
                    analysis, facilitating informed decision-making and continuous improvement across the platform.</li>
            </ul>
        </div>

        <div id="vision" class="step" data-x="15000" data-y="0" data-z="15000" data-scale="1">
            <p style="position: absolute;">Product's 2028 Vision and Market Analysis</p>
        </div>

        <div id="mena" class="step small-text" data-rel-y="1500" data-z="15000" data-scale="1">
            <div style="margin-top: -400px;">
                <h1 style="text-align: center;">MENA Region Data Exploration</h1>
                <div style="text-align: center;">
                    <label for="property-select">Select property:</label>
                    <select id="property-select" style="font-size: 18px;">
                        <option value="index">Digital Urbanization Index</option>
                        <option value="population">Population</option>
                        <option value="newsConsumers">Targeted News Consumers</option>
                        <option value="educationalAttainment">Educational Attainment</option>
                        <option value="potentialSubscribers">Targeted Potential Subscribed User</option>
                        <option value="gdp">GDP (USD)</option>
                        <option value="targeted">Targeted Regions</option>
                    </select>
                </div>
            </div>
            <svg id="mena-map" style="position: absolute;
            top: 50%;
            left: 90%;
            transform: translate(-50%, -50%); z-index: -1;" width="1920px" height="1080px"></svg>
        </div>

        <div id="targeted-regions" class="step" data-rel-y="1500" data-z="15000" data-scale="1">
            <div style="margin-top: -400px;">
                <h1 style="text-align: center;">Targeted Regions</h1>
            </div>
            <div class="centered-absolutely">
                <img src="img/targeted_regions.png" alt="targeted regions table">
                <img src="img/targeted_regions_data.png" alt="targeted regions' data table">
            </div>
        </div>

        <div id="financial-planning" class="step" data-rel-y="1500" data-z="15000" data-scale="1">
            <div style="margin-top: -500px;">
                <h1 style="text-align: center;">Financial Planning Overview 2024-2025</h1>
            </div>
            <div class="centered-absolutely">
                <img src="img/financial_planing.png" alt="financial planing">
                <img src="img/financial_planing_mau.png" alt="financial planing mau">
            </div>
        </div>

        <div id="financial-projection" class="step" data-rel-y="1500" data-z="15000" data-scale="1">
            <div style="margin-top: -500px;">
                <h1 style="text-align: center;">Financial Projection 2024-2028</h1>
            </div>
            <div class="centered-absolutely">
                <img src="img/financial_projection.png" alt="financial projection">
                <img src="img/financial_metrics.png" alt="financial metrics">
            </div>
        </div>

        <div id="projected-mau" class="step" data-rel-y="1500" data-z="15000" data-scale="1">
            <div style="margin-top: -500px;">
                <h1 style="text-align: center;">Projected MAU</h1>
            </div>
            <div class="centered-absolutely">
                <img src="img/projected_mau.png" alt="financial projection">
            </div>
        </div>


        <div id="year-ahead" class="step" data-x="20000" data-y="0" data-z="15000" data-scale="1">
            <p style="position: absolute;">Objectives for the Year Ahead:</p>
        </div>

        <div id="bussiness-goals" class="step slide" data-rel-y="1500">
            <h1>Business Goals:</h1>
            <span class="footnote"><sup>*</sup>Prioritizing these 4 Objectives from a Total of 8</span>
            </br>
            </br>

            <span class="footnote">
                <ol class="bullet-points">
                    <li><strong>SEO Improvement for Organic User Acquisition</strong>
                        <ol class="circle-points">
                            <li>Increase organic traffic to the news aggregator platform by improving search engine
                                optimization (SEO) strategies.</li>
                        </ol>
                    </li>
                    <li><strong>Event-Driven Marketing</strong>
                        <ol class="circle-points">
                            <li>Enhance user engagement and brand awareness through event-based content creation and
                                marketing initiatives.</li>
                        </ol>
                    </li>
                    <li><strong>Partnership in Events for Affiliate Marketing</strong>
                        <ol class="circle-points">
                            <li>Capitalize on the increased attention and interest surrounding events to drive traffic &
                                revenue.</li>
                        </ol>
                    </li>
                    <li><strong>Creating Authentic Content</strong> (Auto-Generated Content & Commentary)<ol
                            class="circle-points">
                            <li>Enhance content quality and credibility by creating authentic, original content through
                                automated content generation and commentary features.</li>
                        </ol>
                    </li>
                </ol>
            </span>
        </div>

        <div id="financial-goals" class="step slide" data-rel-y="1500">
            <h1>Financial Goals:</h1>
            <span class="footnote"><sup>*</sup>Prioritizing these 3 Objectives from a Total of 7</span>
            </br>
            </br>
            <span class="footnote">
                <ol class="bullet-points">
                    <li><strong>Subscription Model</strong>
                        <ol class="circle-points">
                            <li>Provides a predictable and recurring revenue stream</li>
                            <li>Fosters a sense of loyalty and commitment among subscribers.</li>
                        </ol>
                    </li>
                    <li><strong>Affiliate Marketing</strong>
                        <ol class="circle-points">
                            <li>Expands revenue streams beyond traditional advertising methods.</li>
                            <li>Provides opportunities for targeted marketing and cross-promotion with event-related
                                content.
                            </li>
                        </ol>
                    </li>
                    <li><strong>Real-Time Bidding (RTB)</strong>
                        <ol class="circle-points">
                            <li>Increases competition among advertisers, leading to potentially higher CPM rates.</li>
                            <li>Offers flexibility and scalability in ad inventory management and optimization</li>
                            <li>We can revenue share with sources creating a non-zero-sum game.</li>
                        </ol>
                    </li>
                </ol>
            </span>
        </div>

        <div id="technical-goals" class="step slide" data-rel-y="1500">
            <h1>Technical Goals:</h1>
            <span class="footnote"><sup>*</sup>Prioritizing these 5 Objectives from a Total of 18</span>
            </br>
            </br>
            <span class="footnote">
                <ol class="bullet-points">
                    <li><strong>Topic-Driven Content Curation & Automated Topic Page Assembly</strong></li>
                    <li><strong>Introduction of User Personalization Features</strong></li>
                    <li><strong>Refining our strategies in Decima (Timeline Service) through A/B Testing</strong></li>
                    <li><strong>Comprehensive Platform Enhancement Roadmap, Including Mobile App Development</strong>
                    </li>
                    <li><strong>Implementation of Notification and Newsletter Features for Enhanced User
                            Retention</strong></li>
                </ol>
            </span>
        </div>

        <div id="quality-goals" class="step slide" data-rel-y="1500">
            <h1>Regulatory and Quality Goals:</h1>
            </br>
            <span class="footnote">
                <ol class="bullet-points">
                    <li><strong>Incorporation of Content Moderation Features</strong></li>
                    <li><strong>Exploring Feasibility for Live Video Streaming Partnerships in Event-Based
                            Marketing</strong></li>
                    <li><strong>Creation of News Agency Panel for Limited Content Moderation Tools</strong></li>
                </ol>
            </span>
            </br>
            <h1>Quality Goals:</h1>
            </br>
            <span class="footnote">
                <ol class="bullet-points">
                    <li><strong>Integration of Video Detection Technology for Multimedia Content Identification</strong>
                    </li>
                    <li><strong>Improvement of Parser Quality for Accurate Content Extraction</strong></li>
                    <li><strong>Enhancement of Speed, Freshness, and Age Metrics in Palantiri (Crawler)</strong></li>
                </ol>
            </span>

        </div>

    </div>


    <div id="impress-toolbar"></div>

    <div class="hint">
        <p>Use a spacebar or arrow keys to navigate. <br />
            Press 'P' to launch speaker console.</p>
    </div>

    <script>
        if ("ontouchstart" in document.documentElement) {
            document.querySelector(".hint").innerHTML = "<p>Swipe left or right to navigate</p>";
        }
    </script>


    <script src="js/impress.js"></script>
    <script>impress().init();</script>

    <script>
        const svg = d3.select("#mena-map");
        const propertySelect = document.getElementById("property-select");
        const data = [
            { country: "Algeria", index: 0.53, population: 44800000, newsConsumers: 10425285, educationalAttainment: 75.3, potentialSubscribers: 0.53, gdp: 11000, targeted: 0 },
            { country: "Bahrain", index: 0.89, population: 1600000, newsConsumers: 799220, educationalAttainment: 89, potentialSubscribers: 0.89, gdp: 49400, targeted: 1 },
            { country: "Djibouti", index: 0.0, population: 0, newsConsumers: 0, educationalAttainment: 0, potentialSubscribers: 0, gdp: 0, targeted: 0 },
            { country: "Egypt", index: 0.31, population: 110000000, newsConsumers: 13995432, educationalAttainment: 43.1, potentialSubscribers: 0.31, gdp: 11600, targeted: 0 },
            { country: "Iran", index: 0.61, population: 88000000, newsConsumers: 26045076, educationalAttainment: 77.3, potentialSubscribers: 0.61, gdp: 15000, targeted: 0 },
            { country: "Iraq", index: 0.35, population: 41000000, newsConsumers: 6771212, educationalAttainment: 71.6, potentialSubscribers: 0.35, gdp: 9000, targeted: 0 },
            { country: "Jordan", index: 0.76, population: 11000000, newsConsumers: 3818000, educationalAttainment: 92, potentialSubscribers: 1.0, gdp: 9200, targeted: 1 },
            { country: "Kuwait", index: 1.0, population: 3100000, newsConsumers: 1843000, educationalAttainment: 89.4, potentialSubscribers: 0.78, gdp: 43900, targeted: 1 },
            { country: "Lebanon", index: 0.78, population: 5400000, newsConsumers: 1963895, educationalAttainment: 81.6, potentialSubscribers: 0.38, gdp: 13000, targeted: 0 },
            { country: "Libya", index: 0.38, population: 7200000, newsConsumers: 1219569, educationalAttainment: 65.1, potentialSubscribers: 0.57, gdp: 22000, targeted: 0 },
            { country: "Morocco", index: 0.57, population: 37000000, newsConsumers: 9309300, educationalAttainment: 88.4, potentialSubscribers: 0.85, gdp: 8100, targeted: 0 },
            { country: "Oman", index: 0.85, population: 3800000, newsConsumers: 1691340, educationalAttainment: 99.4, potentialSubscribers: 0.99, gdp: 34300, targeted: 1 },
            { country: "Qatar", index: 0.99, population: 2500000, newsConsumers: 1823990, educationalAttainment: 85, potentialSubscribers: 0.85, gdp: 92900, targeted: 1 },
            { country: "Saudi Arabia", index: 0.85, population: 36000000, newsConsumers: 16745000, educationalAttainment: 57.4, potentialSubscribers: 0.27, gdp: 44300, targeted: 1 },
            { country: "Syria", index: 0.27, population: 23000000, newsConsumers: 5740000, educationalAttainment: 70.5, potentialSubscribers: 0.56, gdp: 2900, targeted: 0 },
            { country: "Tunisia", index: 0.56, population: 12000000, newsConsumers: 12000000, educationalAttainment: 87.8, potentialSubscribers: 0.88, gdp: 10400, targeted: 0 },
            { country: "United Arab Emirates", index: 0.88, population: 10000000, newsConsumers: 3150000, educationalAttainment: 39.8, potentialSubscribers: 0.11, gdp: 69700, targeted: 1 },
            { country: "Yemen", index: 0.11, population: 31500000, newsConsumers: 1450392, educationalAttainment: 71, potentialSubscribers: 0.35, gdp: 2500, targeted: 0 }
        ];

        const projection = d3.geoMercator()
            .center([47, 27])  // Center the map on the Middle East
            .scale(800)
            .translate([960, 540]);

        // Define the path generator
        const path = d3.geoPath()
            .projection(projection);

        // Function to update the map based on the selected property
        function updateMap(property) {



            // Update country colors based on the selected property
            svg.selectAll(".country")
                .style("fill", function (d) {
                    // Find the property value for the current country
                    const countryData = data.find(country => country.country === d.properties.name);
                    if (countryData) {
                        return getColor(property, countryData[property]);
                    } else {
                        return "gray"; // Color countries with no data in gray
                    }
                });

            // Update labels with the selected property value
            svg.selectAll(".label")
                .text(function (d) {
                    const countryData = data.find(country => country.country === d.properties.name);
                    return countryData ? countryData[property].toLocaleString() : ""; // Show property value with thousand separators
                });
        }

        // Define color scales for each property
        const colorScales = {
            index: d3.scaleLinear().domain([0, 1]).range(["yellow", "lightblue"]),
            population: d3.scaleLinear().domain([0, 110000000]).range(["lightgreen", "lightred"]),
            newsConsumers: d3.scaleLinear().domain([0, 26045076]).range(["yellow", "lightblue"]),
            educationalAttainment: d3.scaleLinear().domain([0, 100]).range(["yellow", "lightblue"]),
            potentialSubscribers: d3.scaleLinear().domain([0, 1]).range(["yellow", "lightblue"]),
            gdp: d3.scaleLinear().domain([0, 92900]).range(["yellow", "lightgreen"]),
            targeted: d3.scaleLinear().domain([0, 1]).range(["lightgrey", "lightgreen"])
        };

        // Function to get color based on property value
        function getColor(property, value) {
            // Return color based on the corresponding property scale
            return colorScales[property](value);
        }

        // Load and display the GeoJSON data
        d3.json("https://raw.githubusercontent.com/wjdanalharthi/MENA_GeoJSON/master/MENA.geo.json").then(function (geojson) {
            // Add country paths with data binding
            svg.selectAll(".country")
                .data(geojson.features)
                .enter()
                .append("path")
                .attr("class", "country")
                .attr("d", path)
                // Color countries based on Digital Urbanization Index
                .style("fill", function (d) {
                    // Find the Digital Urbanization Index for the current country
                    const countryData = data.find(country => country.country === d.properties.name);
                    if (countryData) {
                        return getColor("index", countryData["index"]);
                    } else {
                        return "gray"; // Color countries with no data in gray
                    }
                })

            // Add labels for country properties
            svg.selectAll(".label")
                .data(geojson.features)
                .enter()
                .append("text")
                .attr("class", "label")
                .attr("x", function (d) {
                    return path.centroid(d)[0]; // Calculate the centroid x-coordinate
                })
                .attr("y", function (d) {
                    return path.centroid(d)[1]; // Calculate the centroid y-coordinate
                })
                .text(function (d) {
                    // Find the Digital Urbanization Index for the current country
                    const countryData = data.find(country => country.country === d.properties.name);
                    return countryData ? countryData.index.toFixed(2) : ""; // Show index with 2 decimal places
                });
        });
        // Initial map update with the default property
        updateMap("index");

        // Event listener to update the map when the property is changed
        propertySelect.addEventListener("change", function () {
            const selectedProperty = propertySelect.value;
            updateMap(selectedProperty);
        });
    </script>

</body>

</html>